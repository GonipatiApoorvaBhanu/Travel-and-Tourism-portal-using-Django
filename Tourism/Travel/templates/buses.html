{% extends 'base.html' %}
{% load static %}

{% block content %}
<h1 class="text-2xl font-bold text-center mt-4">Buses for {{ tour.name }}</h1>

<div class="bus-cards" style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin-top: 20px;">
    {% for bus in buses %}
    <div class="card" style="border: 1px solid #ccc; border-radius: 8px; padding: 15px; width: 300px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); text-align: center;">
        <img src="{% static 'images/default-bus.jpg' %}" alt="{{ bus.name }}" style="width: 100%; height: 180px; object-fit: cover; border-radius: 5px;">
        <h2 style="font-size: 1.5em; margin-top: 10px;">{{ bus.name }}</h2>
        <p><strong>Seats:</strong> {{ bus.seats }}</p>
        <p><strong>Price:</strong> â‚¹{{ tour.price }}</p>

        <!-- Updated form to go to payment page -->
        <a href="{% url 'payment_form' bus.id %}" style="display: inline-block; padding: 10px 15px; background-color: #28a745; color: white; border-radius: 5px; text-decoration: none;">
            Book & Pay
        </a>
    </div>
    {% endfor %}
</div>

{% if not buses %}
    <p style="text-align: center; font-size: 1.2em; margin-top: 30px;">No buses available for this tour.</p>
{% endif %}
{% endblock %}
